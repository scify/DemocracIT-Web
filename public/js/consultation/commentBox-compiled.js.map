{"version":3,"sources":["commentBox.jsx"],"names":[],"mappings":";;AAAA,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC3B,mBAAe,EAAG,2BAAU;AACzB,eAAO,EAAC,QAAQ,EAAE,EAAE,EAAC,CAAC;KACxB;AACD,yBAAqB,EAAG,+BAAS,GAAG,EAAC;AACjC,YAAI,QAAQ,GAAG,IAAI,CAAC;;AAEpB,SAAC,CAAC,IAAI,CAAC;AACH,kBAAM,EAAE,MAAM;AACd,eAAG,EAAE,GAAG;AACR,sBAAU,EAAE,sBAAU;AAClB,wBAAQ,CAAC,KAAK,CAAC,OAAO,GAAC,IAAI,CAAC;AAC5B,wBAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;aACrC;AACD,mBAAO,EAAG,iBAAS,IAAI,EAAC;AACpB,wBAAQ,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;AAC/B,wBAAQ,CAAC,KAAK,CAAC,OAAO,GAAC,KAAK,CAAC;AAC7B,wBAAQ,CAAC,KAAK,CAAC,OAAO,GAAC,IAAI,CAAC;AAC5B,wBAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;aAErC;AACD,iBAAK,EAAE,eAAS,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC;AAClB,qBAAK,CAAC,CAAC,CAAC,CAAA;aACX;SACJ,CAAC,CAAA;KACL;AACD,mBAAe,EAAG,yBAAS,OAAO,EAAC;AAChC,YAAI,CAAC,KAAK,CAAC,OAAO,GAAC,OAAO,CAAC;AAC3B,YAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC5B;AACD,mBAAe,EAAG,yBAAS,GAAG,EAAC;AAC3B,YAAI,QAAQ,GAAG,IAAI,CAAC;AACpB,YAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,IAAI,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,IAAE,CAAC,EAC7D,QAAQ,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,EAAC,GAAG,CAAC,CAAC,KACjD,IAAI,QAAQ,CAAC,KAAK,CAAC,OAAO,EAC3B,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAC,KAAK,CAAC,CAAC,KAE9C,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,CAAC;KACpD;AACD,UAAM,EAAE,kBAAW;AACf,YAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EACtB;AACI,mBACI;;kBAAK,SAAS,EAAC,aAAa;gBACxB;;sBAAK,SAAS,EAAC,gBAAgB;;iBAEzB;aACJ,CACR;SACL;;AAED,YAAI,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC;AAChC,kBAAM,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO;AAC3B,wBAAY,EAAE,IAAI;SACrB,CAAC,CAAC;AACH,eACQ;;cAAK,SAAS,EAAE,OAAO,AAAC;YACjB,oBAAC,WAAW,OAAG;YACf,oBAAC,WAAW,IAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,AAAC,GAAG;SAC3C,CAEX;KACN;CACR,CAAC,CAAC;AACH,IAAI,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAChC,UAAM,EAAE,kBAAW;AACf,eACI;;cAAK,SAAS,EAAC,aAAa;YACnB,kCAAU,WAAW,EAAC,yBAAyB,GAAY;SAC9D,CACR;KACL;CACJ,CAAC,CAAC;AACH,IAAI,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAChC,UAAM,EAAE,kBAAW;AACf,YAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,OAAO,EAAE;AACtD,mBACI,oBAAC,OAAO,IAAC,IAAI,EAAE,OAAO,AAAC,GAAG,CAC5B;SACL,CAAC,CAAC;;AAEH,eACI;;cAAK,SAAS,EAAC,aAAa;YACvB,YAAY;SACX,CACR;KACL;CACJ,CAAC,CAAC;;AAEH,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACxB,UAAM,EAAE,kBAAW;AACf,YAAI,IAAI,GAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;;;AAG3D,eACI;;cAAK,SAAS,EAAC,SAAS;YACpB;;kBAAK,SAAS,EAAC,QAAQ;gBACnB,6BAAK,GAAG,EAAC,oCAAoC,GAAG;aAC9C;YACN;;kBAAK,SAAS,EAAC,MAAM;gBACjB;;sBAAM,SAAS,EAAC,eAAe;oBAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ;iBAAQ;gBACjE,8BAAM,uBAAuB,EAAE,EAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAC,AAAC,GAAQ;aACpE;YACN;;kBAAK,SAAS,EAAC,SAAS;gBACpB;;sBAAG,SAAS,EAAC,OAAO,EAAC,IAAI,EAAC,GAAG;;oBAAQ,2BAAG,SAAS,EAAC,mBAAmB,GAAK;iBAAI;gBAC9E;;sBAAG,SAAS,EAAC,UAAU,EAAC,IAAI,EAAC,GAAG;;oBAAQ,2BAAG,SAAS,EAAC,qBAAqB,GAAK;iBAAI;gBACnF;;sBAAG,SAAS,EAAC,OAAO,EAAC,IAAI,EAAC,GAAG;;oBAAU,2BAAG,SAAS,EAAC,aAAa,GAAK;iBAAI;gBAC1E;;sBAAM,SAAS,EAAC,MAAM;oBAAE,IAAI;iBAAQ;aAClC;SACJ,CACpB;KACD;CACA,CAAC,CAAC;;AAGH,CAAC,CAAC,YAAU;AACR,SAAK,CAAC,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,oBAAC,UAAU,OAAE,EAAE,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC,CAAC;CAC9F,CAAC,CAAA","file":"commentBox-compiled.js","sourcesContent":["var CommentBox = React.createClass({\n        getInitialState : function(){\n           return {comments: []};\n        },\n        getCommentsFromServer : function(url){\n            var instance = this;\n            //todo: cancel any previous events\n            $.ajax({\n                method: \"POST\",\n                url: url,\n                beforeSend: function(){\n                    instance.state.loading=true;\n                    instance.setState(instance.state);\n                },\n                success : function(data){\n                    instance.state.comments = data;\n                    instance.state.loading=false;\n                    instance.state.display=true;\n                    instance.setState(instance.state);\n\n                },\n                error: function(x,z,y){\n                    alert(x)\n                }\n            })\n        },\n        setVisibibility : function(display){\n           this.state.display=display;\n           this.setState(this.state);\n        },\n        refreshComments : function(url){\n            var instance = this;\n            if (!instance.state.comments || instance.state.comments.length==0)\n                instance.getCommentsFromServer.call(instance,url);\n            else if (instance.state.display)\n                instance.setVisibibility.call(instance,false);\n            else\n                instance.setVisibibility.call(instance,true);\n        },\n        render: function() {\n            if (this.state.loading)\n            {\n                return (\n                    <div className=\"loading-wrp\">\n                        <div className=\"spinner-loader\">\n                            Φόρτωση\n                        </div>\n                    </div>\n                );\n            }\n\n            var classes = React.addons.classSet({\n                'hide' :!this.state.display,\n                'commentBox' :true\n            });\n            return (\n                    <div className={classes}>\n                           <CommentForm />\n                           <CommentList data={this.state.comments} />\n                    </div>\n\n             );\n        }\n});\nvar CommentForm = React.createClass({\n    render: function() {\n        return (\n            <div className=\"commentForm\">\n                     <textarea placeholder=\"leave your comment here\"></textarea>\n            </div>\n        );\n    }\n});\nvar CommentList = React.createClass({\n    render: function() {\n        var commentNodes = this.props.data.map(function (comment) {\n            return (\n                <Comment data={comment} />\n            );\n        });\n\n        return (\n            <div className=\"commentList\">\n                {commentNodes}\n            </div>\n        );\n    }\n});\n\nvar Comment = React.createClass({\n        render: function() {\n            var date =moment(this.props.data.dateAdded).format('llll');\n             //new Date(this.props.data.dateAdded).toDateString()\n            // console.log(this.props.data.dateAdded);\n            return (\n                <div className=\"comment\">\n                    <div className='avatar'>\n                        <img src=\"/assets/images/profile_default.jpg\" />\n                    </div>\n                    <div className='body'>\n                        <span className=\"commentAuthor\">{this.props.data.fullName}</span>\n                        <span dangerouslySetInnerHTML={{__html: this.props.data.body}}></span>\n                    </div>\n                    <div className=\"options\">\n                        <a className=\"agree\" href=\"#\">Συμφωνώ<i className=\"fa fa-thumbs-o-up\"></i></a>\n                        <a className=\"disagree\" href=\"#\">Διαφωνώ<i className=\"fa fa-thumbs-o-down\"></i></a>\n                        <a className=\"reply\" href=\"#\">Απάντηση <i className=\"fa fa-reply\"></i></a>\n                        <span className=\"date\">{date}</span>\n                    </div>\n                </div>\n);\n}\n});\n\n\n$(function(){\n    scify.commentBox = React.render(<CommentBox/>, document.getElementById('comment-box-wrp'));\n})\n"]}