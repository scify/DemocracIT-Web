{"version":3,"sources":["reportComment.jsx"],"names":[],"mappings":";;AAAA,CAAC,YAAU;;AAEP,UAAM,CAAC,KAAK,CAAC,aAAa,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC3C,uBAAe,EAAE,2BAAU;AACvB,mBAAO;AACH,uBAAO,EAAG,IAAI,CAAC,KAAK,CAAC,OAAO;AAC5B,uBAAO,EAAE,KAAK;aACjB,CAAA;SACJ;;AAED,eAAO,EAAE,iBAAS,IAAI,EAAC;AACnB,gBAAI,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;AAClC,gBAAI,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;AAC1B,gBAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;AACvB,mBAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;;AAE/B,gBAAG,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,EAAE,EAAE;AAC1D,oBAAI,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;AACxB,oBAAI,CAAC,KAAK,CAAC,OAAO,GAAG;;;;oBAA+C;;0BAAG,IAAI,EAAC,gCAAgC;;qBAAiB;iBAAM,CAAC;aACvI,MACI;;AAED,oBAAI,CAAC,iCAAiC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;aACjE;AACD,gBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAE7B;AACD,yCAAiC,EAAA,2CAAC,SAAS,EAAE;AACzC,gBAAI,QAAQ,GAAG,IAAI,CAAC;AACpB,aAAC,CAAC,IAAI,CAAC;AACH,sBAAM,EAAE,KAAK;AACb,mBAAG,EAAE,wBAAwB,GAAG,SAAS;AACzC,wBAAQ,EAAE,MAAM;AAChB,2BAAW,EAAE,iCAAiC;AAC9C,0BAAU,EAAC,sBAAU;AACjB,4BAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;AAC3B,4BAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;iBACrC;AACD,uBAAO,EAAG,iBAAS,IAAI,EAAC;AACpB,wBAAG,IAAI,IAAI,KAAK,EAAE;AACd,gCAAQ,CAAC,KAAK,CAAC,sBAAsB,GAAG,IAAI,CAAC;AAC7C,gCAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,4EAA0E,CAAC;qBACvG,MACI;AACD,gCAAQ,CAAC,KAAK,CAAC,sBAAsB,GAAG,KAAK,CAAC;AAC9C,gCAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,gDAAgD,CAAC;qBAC7E;AACD,4BAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;iBACrC;AACD,wBAAQ,EAAE,oBAAU;AAChB,4BAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;AAC5B,4BAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;iBACrC;aACJ,CAAC,CAAC;SACN;AACD,qBAAa,EAAE,yBAAU;AACrB,gBAAI,QAAQ,GAAG,IAAI,CAAC;AACpB,aAAC,CAAC,IAAI,CAAC;AACH,sBAAM,EAAE,MAAM;AACd,mBAAG,EAAE,iBAAiB;AACtB,oBAAI,EAAC,IAAI,CAAC,SAAS,CAAC,EAAC,SAAS,EAAE,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,EAAC,CAAC;AAC3D,wBAAQ,EAAE,MAAM;AAChB,2BAAW,EAAE,iCAAiC;AAC9C,0BAAU,EAAC,sBAAU;AACjB,4BAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;AAC3B,4BAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;iBACrC;AACD,uBAAO,EAAG,iBAAS,IAAI,EAAC;AACpB,4BAAQ,CAAC,KAAK,CAAC,sBAAsB,GAAG,KAAK,CAAC;AAC9C,4BAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,0FAAwF,CAAC;AAClH,4BAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;iBACrC;AACD,wBAAQ,EAAE,oBAAU;AAChB,4BAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;AAC5B,4BAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;iBACrC;aACJ,CAAC,CAAC;SACN;AACD,kBAAU,EAAC,sBAAU;AACjB,gBAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;AAC3B,gBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC7B;AACD,cAAM,EAAE,kBAAW;AACf,gBAAI,sBAAsB,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;AAChD,gBAAI,YAAY,GAAG;;kBAAK,SAAS,EAAC,kBAAkB;gBAAE,IAAI,CAAC,KAAK,CAAC,OAAO;aAAO,CAAC;AAChF,gBAAG,IAAI,CAAC,KAAK,CAAC,OAAO,EACjB,sBAAsB,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC;AACnD,gBAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EACd,YAAY,GAAI;;kBAAK,SAAS,EAAC,kBAAkB;gBAAC,oBAAC,KAAK,CAAC,WAAW,IAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,AAAC,GAAG;aAAM,CAAC;AAC5G,gBAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,SAAS,EAClE,IAAI,SAAS,GAAG;;kBAAQ,EAAE,EAAC,mBAAmB,EAAC,SAAS,EAAC,UAAU,EAAC,OAAO,EAAE,IAAI,CAAC,aAAa,AAAC;;aAAiB,CAAC;;AAEtH,mBACI;;kBAAK,EAAE,EAAC,oBAAoB,EAAC,SAAS,EAAG,UAAU,CAAC,OAAO,EAAC,MAAM,EAAE,sBAAsB,CAAC,AAAC,EAAC,IAAI,EAAC,QAAQ;gBACtG,6BAAK,SAAS,EAAG,UAAU,CAAC,gBAAgB,EAAC,MAAM,EAAC,sBAAsB,CAAC,AAAC,GAAO;gBACnF;;sBAAK,SAAS,EAAC,eAAe;oBAC1B;;0BAAK,SAAS,EAAC,eAAe;wBAC1B;;8BAAK,SAAS,EAAC,cAAc;4BACzB;;kCAAI,SAAS,EAAC,aAAa;;gCAA8B,2BAAG,SAAS,EAAC,uBAAuB,EAAC,KAAK,EAAC,uCAAuC,GAAK;6BAAK;4BACrJ;;kCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,OAAO,EAAC,OAAO,EAAE,IAAI,CAAC,UAAU,AAAC;;6BAAiB;yBAChF;wBACN;;8BAAK,SAAS,EAAC,YAAY;4BACvB;;kCAAK,SAAS,EAAC,iBAAiB;gCAC5B,oBAAC,KAAK,CAAC,OAAO;AACV,8CAAU,EAAI,IAAI,CAAC,KAAK,CAAC,UAAU,AAAC;AACpC,uCAAG,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,AAAC;AAC3B,wCAAI,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,AAAC;AACzB,8DAA0B,EAAE,IAAI,AAAC;AACjC,yDAAqB,EAAE,KAAK,AAAC;AAC7B,8DAA0B,EAAE,IAAI,AAAC;AACjC,yDAAqB,EAAE,KAAK,AAAC;AAC7B,4DAAwB,EAAE,IAAI,AAAC;AAC/B,wDAAoB,EAAE,IAAI,AAAC;AAC3B,8DAA0B,EAAE,IAAI,AAAC;AACjC,yDAAqB,EAAE,KAAK,AAAC;AAC7B,wDAAoB,EAAE,KAAK,AAAC;AAC5B,kDAAc,EAAE,KAAK,AAAC;AACtB,uDAAmB,EAAE,IAAI,AAAC;AAC1B,qDAAiB,EAAC,SAAS;AAC3B,+DAA2B,EAAE,KAAK,AAAC;AACnC,6DAAyB,EAAE,KAAK,AAAC,GAAE;6BACrC;4BACL,YAAY;yBACX;wBACN;;8BAAK,SAAS,EAAC,kBAAkB;4BAC5B,SAAS;yBACR;wBACN;;8BAAK,SAAS,EAAC,cAAc;4BACzB;;kCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,iBAAiB,EAAC,OAAO,EAAE,IAAI,CAAC,UAAU,AAAC;;6BAAkB;yBAC3F;qBACJ;iBACJ;aACJ,CACR;SACL;KACJ,CAAC,CAAC;CACN,CAAA,EAAG,CAAA","file":"reportComment-compiled.js","sourcesContent":["(function(){\n\n    window.scify.reportComment = React.createClass({\n        getInitialState: function(){\n            return {\n                comment : this.props.comment,\n                display: false\n            }\n        },\n        //function to display the whole React class\n        display: function(data){\n            this.state.comment = data.comment;\n            this.state.display = true;\n            this.state.busy = true;\n            console.log(this.props.userId);\n            //if the user is not logged in\n            if(this.props.userId == undefined || this.props.userId == '') {\n                this.state.busy = false;\n                this.state.message = <div>Για αυτή την ενέργεια χρειάζεται να είστε <a href=\"/signIn?returnUrl=@request.uri\">συνδεδεμένοι</a></div>;\n            }\n            else {\n                //check if the logged in user has already reported this comment\n                this.checkIfUserHasReportedThisComment(this.state.comment.id);\n            }\n            this.setState(this.state);\n\n        },\n        checkIfUserHasReportedThisComment(commentId) {\n            var instance = this;\n            $.ajax({\n                method: \"GET\",\n                url: \"/comment/report/check/\" + commentId,\n                dataType: \"json\",\n                contentType: \"application/json; charset=utf-8\",\n                beforeSend:function(){\n                    instance.state.busy = true;\n                    instance.setState(instance.state);\n                },\n                success : function(data){\n                    if(data == false) {\n                        instance.state.shouldDisplaySubmitBtn = true;\n                        instance.state.message = 'Αν είστε σίγουροι ότι αυτό το σχόλιο είναι υβριστικό, πατήστε \"Αναφορά\":';\n                    }\n                    else {\n                        instance.state.shouldDisplaySubmitBtn = false;\n                        instance.state.message = 'Έχετε ήδη αναφέρει αυτό το σχόλιο ως υβριστικό';\n                    }\n                    instance.setState(instance.state);\n                },\n                complete: function(){\n                    instance.state.busy = false;\n                    instance.setState(instance.state);\n                }\n            });\n        },\n        reportComment: function(){\n            var instance = this;\n            $.ajax({\n                method: \"POST\",\n                url: \"/comment/report\",\n                data:JSON.stringify({commentId: instance.state.comment.id}),\n                dataType: \"json\",\n                contentType: \"application/json; charset=utf-8\",\n                beforeSend:function(){\n                    instance.state.busy = true;\n                    instance.setState(instance.state);\n                },\n                success : function(data){\n                    instance.state.shouldDisplaySubmitBtn = false;\n                    instance.state.message = 'Η αναφορά καταχωρήθηκε. Πατήστε \"Κλείσιμο\" για να επιστρέψετε στην προηγούμενη σελίδα.';\n                    instance.setState(instance.state);\n                },\n                complete: function(){\n                    instance.state.busy = false;\n                    instance.setState(instance.state);\n                }\n            });\n        },\n        closeModal:function(){\n            this.state.display = false;\n            this.setState(this.state);\n        },\n        render: function() {\n            var showReportCommentModal = classNames(\"hide\");\n            var innerContent = <div className=\"reportCommentMsg\">{this.state.message}</div>;\n            if(this.state.display)\n                showReportCommentModal = classNames(\"in show\");\n            if(this.state.busy)\n                innerContent =  <div className=\"reportCommentMsg\"><scify.ReactLoader display={this.state.busy} /></div>;\n            if(this.state.shouldDisplaySubmitBtn && this.props.userId != undefined)\n                var submitBtn = <button id=\"saveCommentReport\" className=\"btn blue\" onClick={this.reportComment}>Αναφορά</button>;\n\n            return(\n                <div id=\"reportCommentModal\" className={ classNames(\"modal\",\"fade\", showReportCommentModal)} role=\"dialog\">\n                    <div className={ classNames(\"modal-backdrop\",\"fade\",showReportCommentModal)}></div>\n                    <div className=\"modal-dialog \">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <h4 className=\"modal-title\">Αναφορά σχολίου ως υβριστικό <i className=\"fa fa-question-circle\" title=\"Αφορά σχόλια με υβριστικό περιεχόμενο\"></i></h4>\n                                <button type=\"button\" className=\"close\" onClick={this.closeModal}>&times;</button>\n                            </div>\n                            <div className=\"modal-body\">\n                                <div className='body commentBox'>\n                                    <scify.Comment\n                                        imagesPath = {this.props.imagesPath}\n                                        key={this.props.comment.id}\n                                        data={this.props.comment}\n                                        shouldDisplayCommenterName={true}\n                                        shouldDisplayEditIcon={false}\n                                        shouldDisplayCommentEdited={true}\n                                        shouldDisplayShareBtn={false}\n                                        shouldDisplayCommentBody={true}\n                                        shouldDisplayEmotion={true}\n                                        shouldDisplayAnnotatedText={true}\n                                        shouldDisplayReplyBox={false}\n                                        shouldDisplayReplies={false}\n                                        optionsEnabled={false}\n                                        shouldDisplayTopics={true}\n                                        commentClassNames=\"comment\"\n                                        shouldDisplayFinalLawAnnBtn={false}\n                                        shouldDisplayReportAction={false}/>\n                                </div>\n                                {innerContent}\n                            </div>\n                            <div className=\"saveBtnContainer\">\n                                {submitBtn}\n                            </div>\n                            <div className=\"modal-footer\">\n                                <button type=\"button\" className=\"btn btn-default\" onClick={this.closeModal}>Κλείσιμο</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n    });\n})()"]}