{"version":3,"sources":["commentBox.jsx"],"names":[],"mappings":"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","file":"commentBox-compiled.js","sourcesContent":["(function(){\n\n\n    scify.CommentBox = React.createClass({\n        getInitialState : function(){\n            return { comments: [],\n                     discussionThreadId: this.props.discussionthreadid,\n                     commentsCount: this.props.commentsCount\n            };\n        },\n        findTopComments : function(comments){\n\n            if (comments.length<9)\n                return comments;  //dont filter;\n\n            var topComments =_.filter(comments,function(comment){\n                return comment.likesCounter >0;\n            }); //get all comments with likes, and then sort them\n\n            topComments =_.sortBy(topComments,function(comment){\n               return    -comment.likesCounter;\n            })\n\n            if (topComments.length>1) //display top if they more than one\n                return topComments.splice(0,5);\n            else\n                return comments;\n\n        },\n        getCommentsFromServer : function(url){\n            var instance = this;\n\n           var promise = $.ajax({\n                method: \"GET\",\n                url: \"/comments/retrieve\",\n                cache:false,\n                data:{\n                    consultationId :this.props.consultationid,\n                    articleId :this.props.articleid,\n                    source : this.props.source,\n                    discussionthreadid : this.state.discussionthreadid,\n                    discussionthreadclientid: this.props.discussionthreadclientid\n                },\n                beforeSend: function(){\n                    instance.state.busy=true;\n                    instance.setState(instance.state);\n                },\n                success : function(data){\n                    instance.state.allComments = data;\n                    instance.state.topcomments = instance.findTopComments(data);\n                    instance.state.comments =instance.state.topcomments;\n                    instance.state.busy=false;\n                    instance.state.display=true;\n                    instance.setState(instance.state);\n\n                },\n                error: function(x,z,y){\n                    alert(x)\n                }\n            });\n\n            return promise;\n        },\n        loadAll: function(){\n            this.setState({comments:this.state.allComments})\n        },\n        saveComment : function(url,data){\n            var instance = this;\n\n            var postedData = {\n                consultationId : this.props.consultationid,\n                articleId: this.props.articleid,\n                discussionThreadId : instance.state.discussionthreadid,\n                discussionthreadclientid : this.props.discussionthreadclientid, //the id generated by javascript\n                discussionThreadText: this.props.discussionThreadText, //contains the whole discussion thread text\n                fullName :this.props.fullName,\n                dateAdded : new Date(),\n                userAnnotatedText: data.userAnnotatedText,\n                body : data.body,\n                annotationTagTopics : data.annotationTagTopics,\n                annotationTagProblems : data.annotationTagProblems\n            };\n\n            //todo: cancel any previous events\n            $.ajax({\n                method: \"POST\",\n                url: url,\n                data: JSON.stringify(postedData),\n                dataType: \"json\",\n                contentType: \"application/json; charset=utf-8\",\n                beforeSend:function(){\n                    instance.state.display=true;\n                    instance.state.busy=true;\n                    instance.setState(instance.state);\n                },\n                success : function(comment){\n                    instance.state.discussionthreadid = comment.discussionThread.id; //set discussion thread to state\n                    instance.state.commentsCount = instance.state.commentsCount+1;\n                    instance.state.comments.push(comment);\n                },\n                complete: function(){\n                    instance.state.busy=false;\n                    instance.state.display = instance.state.comments.length>0;\n                    instance.setState(instance.state);\n                }\n            });\n\n        },\n        setVisibibility : function(display){\n            this.state.display=display;\n            this.setState(this.state);\n        },\n        refreshComments : function(){\n            var instance = this;\n            if (instance.state.commentsCount > instance.state.comments.length )\n                instance.getCommentsFromServer.call(instance);\n            else if (instance.state.display)\n                instance.setVisibibility.call(instance,false);\n            else\n                instance.setVisibibility.call(instance,true);\n        },\n        toogleBox: function(){\n            this.state.display= !this.state.display;\n            this.setState(this.state);\n        },\n        shouldDisplayLoadMoreOption : function(){\n             return  this.state.commentsCount > this.state.comments.length;\n        },\n        render: function() {\n\n            if (this.state.busy)\n            {\n                return (\n                    <div>\n                        <TotalCommentsLink onClick={this.refreshComments} count={this.state.commentsCount} />\n                        <scify.ReactLoader display={this.state.busy} />\n                    </div>\n                );\n            }\n            var topClasses = classNames({hide: this.state.commentsCount==0});\n            var commendBoxclasses = classNames(\"commentBox\",{ hide :!this.state.display});\n            var loadAllClasses =classNames(\"load-all\",{ hide :!this.shouldDisplayLoadMoreOption()});\n\n            return (\n                <div className={topClasses}>\n                    <TotalCommentsLink onClick={this.refreshComments}\n                                       count={this.state.commentsCount}\n                                       ource={this.props.source}\n                                       isdiscussionForTheWholeArticle={this.props.isdiscussionForTheWholeArticle} />\n                    <div className={commendBoxclasses }>\n                        <div className={loadAllClasses} >\n                            βλέπετε τα { this.state.comments.length } πιο δημοφιλη σχόλια <a onClick={this.loadAll}>κλικ εδώ για να τα δείτε όλα</a>\n                        </div>\n                        <scify.CommentList consultationEndDate={this.props.consultationEndDate} data={this.state.comments} parent={this.props.parent}/>\n                        <CommentForm />\n                    </div>\n                </div>\n\n            );\n        }\n    });\n    var TotalCommentsLink = React.createClass({\n        render : function(){\n\n            var label = \"σχόλια\";\n            if (this.props.count==1)\n                label=\"σχόλιο\";\n\n\n            if (this.props.source && this.props.source ==\"opengov\")\n                label +=\" απο το opengov \";\n\n            if (this.props.isdiscussionForTheWholeArticle)\n                label +=\" για ολόκληρο το άρθρο\";\n            else\n                label +=\" για το τμήμα κειμένου\";\n\n            if (this.props.count>0)\n                return (\n                    <a className=\"load\" onClick={this.props.onClick}>{this.props.count} {label} </a>\n                )\n            else //todo: how can i return an empty element?\n                return (<span></span>)\n        }\n    });\n    var CommentForm = React.createClass({\n        render: function() {\n            return (\n                <div className=\"commentForm\">\n\n                </div>\n            );\n        }\n    });\n    window.scify.CommentList = React.createClass({\n        render: function() {\n            var instance = this;\n            var commentNodes = this.props.data.map(function (comment) {\n                return (\n                    <scify.Comment parent={instance.props.parent} consultationEndDate={instance.props.consultationEndDate} key={comment.id} data={comment} />\n                );\n            });\n\n            return (\n                <div className=\"commentList\">\n                    {commentNodes}\n                </div>\n            );\n        }\n    });\n    window.scify.Comment = React.createClass({\n        getInitialState: function(){\n            return {\n                        likeCounter: this.props.data.likesCounter,\n                        dislikeCounter: this.props.data.dislikesCounter,\n                        liked : this.props.data.loggedInUserRating  //if not null it means has liked/disliked this comment\n                    };\n        },\n        componentDidMount : function(){\n            $(React.findDOMNode(this)).find('[data-toggle=\"tooltip\"]').tooltip();\n        },\n        render: function() {\n            if(this.props.parent == \"consultation\" || this.props.parent == \"reporter\") {\n                var commentFromDB = this.props.data;\n            } else {\n                var commentFromDB = this.props.data.comment;\n            }\n            var taggedProblems = commentFromDB.annotationTagProblems.map(function (tag) {\n                if (tag != undefined) {\n                return (\n                    <span className=\"tag pr\"><span>{tag.description}</span></span>\n                );\n                }\n            });\n            var taggedTopics = commentFromDB.annotationTagTopics.map(function (tag) {\n                if (tag != undefined) {\n                    return (\n                        <span className=\"tag topic\"><span >{\"#\" + tag.description }</span></span>\n                    );\n                }\n            });\n            var taggedProblemsContainer = commentFromDB.annotationTagProblems.length > 0 ?\n                <span>Προβλήματα: { taggedProblems} </span> : \"\";\n            var taggedTopicsContainer = commentFromDB.annotationTagTopics.length > 0 ?\n                <span>Κατηγορία: { taggedTopics} </span> : \"\";\n\n            //todo: enable reply functionality, now its hidden\n\n            //hide lock icon for open gov consultations, and for comments that we posted before the end of the consultation date\n            var iconsClasses = classNames(\"icons\",\n                {\n                    hide: commentFromDB.source.commentSource == 2 ||\n                    commentFromDB.dateAdded < this.props.consultationEndDate\n                });\n\n            var options,avatarDiv,commenterName,commentBody,annotatedText;\n            if(this.props.parent == \"consultation\" || this.props.parent == \"reporter\") {\n                options = <DisplayForConsultation id={this.props.data.id} dateAdded={this.props.data.dateAdded} likeCounter={this.props.data.likesCounter} dislikeCounter={this.props.data.dislikesCounter} loggedInUserRating={this.props.loggedInUserRating} />;\n                avatarDiv =<div className='avatar'><img src={this.props.data.avatarUrl ? this.props.data.avatarUrl : \"/assets/images/profile_default.jpg\"} /></div>;\n\n                if (this.props.data.profileUrl)\n                    commenterName = <span className=\"commentAuthor\"><a target=\"_blank\" href={this.props.data.profileUrl}>{this.props.data.fullName}</a></span>;\n                else\n                    commenterName = <span className=\"commentAuthor\">{this.props.data.fullName}</span>;\n\n\n                commentBody = <div className=\"htmlText\">Σχόλιο: <span dangerouslySetInnerHTML={{__html: this.props.data.body}}></span></div>;\n            } else if(this.props.parent == \"reporterUserStats\") {\n                console.log(this.props.data);\n                options = <DisplayForReporter dateAdded={this.props.data.comment.dateAdded} likeCounter={this.props.data.comment.likesCounter} dislikeCounter={this.props.data.comment.dislikesCounter} loggedInUserRating={this.props.loggedInUserRating} />;\n                commentBody = <div className=\"htmlText\">Σχόλιο: <span dangerouslySetInnerHTML={{__html: this.props.data.comment.body}}></span></div>;\n                annotatedText = <div className=\"htmlText\">Τμήμα κειμένου: <span dangerouslySetInnerHTML={{__html: this.props.data.article_name}}></span></div>;\n            }\n            if(this.props.parent == \"reporter\") {\n                if(this.props.data.userAnnotatedText != null)\n                    annotatedText = <div className=\"htmlText\">Τμήμα κειμένου: <span dangerouslySetInnerHTML={{__html: this.props.data.userAnnotatedText}}></span></div>;\n            }\n            return (\n                <div className=\"comment\">\n                    {avatarDiv}\n                    <div className='body'>\n                        {commenterName}\n                        {commentBody}\n                        {annotatedText}\n                        <div className=\"tags\"> {taggedProblemsContainer} {taggedTopicsContainer}</div>\n                    </div>\n                    {options}\n                    <div className={iconsClasses}>\n                        <a data-toggle=\"tooltip\" data-original-title=\"Το σχόλιο εισήχθει μετά τη λήξη της διαβούλευσης\"><img src=\"/assets/images/closed.gif\"/></a>\n                     </div>\n                </div>\n            );\n        }\n    });\n\n    var DisplayForConsultation = React.createClass({\n        getInitialState: function(){\n            return {\n                likeCounter: this.props.likeCounter,\n                dislikeCounter: this.props.dislikeCounter,\n                liked : this.props.loggedInUserRating  //if not null it means has liked/disliked this comment\n            };\n        },\n        postRateCommentAndRefresh: function(){\n            var instance = this;\n            //todo: make ajax call and increment decremet the counters.\n            //todo: cancel any previous events\n            $.ajax({\n                method: \"POST\",\n                url: \"/comments/rate\",\n                data: { comment_id : this.props.id , liked : instance.state.liked},\n                beforeSend:function(){\n                    instance.setState(instance.state);\n                },\n                success : function(response){\n                    var x = \"stop\";\n                },\n                complete: function(){},\n                error:function(x,y,z){\n                    console.log(x);\n                }\n            })\n\n        },\n        handleLikeComment :function(){ //user pressed the liked button\n            var oldLikeStatus =this.state.liked;\n            var newLikeStatus=true;\n\n            if (oldLikeStatus ===true) { //if comment was already liked, undo it\n                newLikeStatus=null;\n                this.state.likeCounter = this.state.likeCounter -1;\n            }\n            if (oldLikeStatus ===false) //comment was disliked and now it was liked, remove it from counter\n                this.state.dislikeCounter= this.state.dislikeCounter-1;\n\n            if (newLikeStatus===true)\n                this.state.likeCounter = this.state.likeCounter + 1\n\n            this.state.liked= newLikeStatus;\n            this.postRateCommentAndRefresh();\n        },\n        handleDislikeComment:function(){ //user pressed the dislike button\n            var oldLikeStatus =this.state.liked;\n            var newLikeStatus=false;\n\n            if (oldLikeStatus ===false) { //if comment was already disliked, undo it\n                newLikeStatus=null;\n                this.state.dislikeCounter = this.state.dislikeCounter  -1;\n            }\n            if (oldLikeStatus ===true) //comment was liked and now it was disliked, remove it from counter\n                this.state.likeCounter= this.state.likeCounter-1;\n\n            if (newLikeStatus===false)\n                this.state.dislikeCounter = this.state.dislikeCounter + 1\n\n            this.state.liked= newLikeStatus;\n            this.postRateCommentAndRefresh();\n        },\n        render: function() {\n            var replyClasses = classNames(\"reply\",\"hide\" )//,{hide: this.props.data.source.commentSource ==2}); //hide for opengov\n            var agreeClasses = classNames(\"agree\", {active: this.state.liked===true});\n            var disagreeClasses = classNames(\"disagree\", {active: this.state.liked ===false});\n            var date =moment(this.props.dateAdded).format('llll');\n            return (\n                <div className=\"options\">\n                    <a className={agreeClasses} onClick={this.handleLikeComment}>\n                        Συμφωνώ<i className=\"fa fa-thumbs-o-up\"></i>\n\n                    </a><span className=\"c\"> ({this.state.likeCounter})</span>\n                    <a className={disagreeClasses} onClick={this.handleDislikeComment}>\n                        Διαφωνώ<i className=\"fa fa-thumbs-o-down\"></i>\n                    </a> <span className=\"c\"> ({this.state.dislikeCounter})</span>\n                    <a className={replyClasses} href=\"#\">Απάντηση <i className=\"fa fa-reply\"></i></a>\n                    <span className=\"date\">{date}</span>\n                </div>\n            );\n        }\n    });\n\n    var DisplayForReporter = React.createClass({\n        getInitialState: function(){\n            return {\n                likeCounter: this.props.likeCounter,\n                dislikeCounter: this.props.dislikeCounter,\n                liked : this.props.loggedInUserRating  //if not null it means has liked/disliked this comment\n            };\n        },\n        render: function() {\n            var agreeClasses = classNames(\"agree\", {active: this.state.liked===true});\n            var disagreeClasses = classNames(\"disagree\", {active: this.state.liked ===false});\n            var date =moment(this.props.dateAdded).format('llll');\n            return (\n                <div className=\"options\">\n                    <div className={agreeClasses} onClick={this.handleLikeComment}>\n                        Χρήστες που συμφωνούν<i className=\"fa fa-thumbs-o-up\"></i>\n\n                    </div><span className=\"c\"> ({this.state.likeCounter})</span>\n                    <div className={disagreeClasses}>\n                        Χρήστες που διαφωνούν<i className=\"fa fa-thumbs-o-down\"></i>\n                    </div> <span className=\"c\"> ({this.state.dislikeCounter})</span>\n                    <span className=\"date\">{date}</span>\n                </div>\n            );\n        }\n    });\n})()\n\n\n"]}