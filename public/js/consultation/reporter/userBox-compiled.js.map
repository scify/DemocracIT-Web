{"version":3,"sources":["userBox.jsx"],"names":[],"mappings":"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","file":"userBox-compiled.js","sourcesContent":["(function(){\n\n    scify.UserBox = React.createClass({\n        getInitialState: function() {\n          return {\n              consultationid: this.props.consultationid,\n              userId: this.props.userId,\n              user: this.props.user,\n              comments: [],\n              busy: false,\n              display: false,\n              commentsCount: this.props.commentsCount\n          };\n        },\n        setVisibibility : function(display){\n            this.state.display=display;\n            this.setState(this.state);\n        },\n        refreshComments : function(){\n            var instance = this;\n            if (instance.state.commentsCount > instance.state.comments.length )\n                instance.getCommentsFromServer.call(instance);\n            else if (instance.state.display)\n                instance.setVisibibility.call(instance,false);\n            else\n                instance.setVisibibility.call(instance,true);\n        },\n        getCommentsFromServer : function(){\n            var instance = this;\n            var promise = $.ajax({\n                method: \"GET\",\n                url: \"/comments/cons/retrieve\",\n                cache:false,\n                data:{\n                    consultationId :this.props.consultationid,\n                    userId :this.props.userId\n                },\n                beforeSend: function(){\n                    instance.state.busy=true;\n                    instance.state.display = true;\n                    instance.setState(instance.state);\n                },\n                success : function(data){\n                    instance.state.comments = data;\n                },\n                complete: function(){\n                    instance.state.busy=false;\n                    instance.state.display = true;\n                    instance.setState(instance.state);\n                },\n                error: function(x,z,y){\n                    console.log(x);\n                }\n            });\n\n            return promise;\n        },\n        render: function() {\n            return (\n                <div className=\"\" onClick={this.refreshComments}>\n                    <a>{this.props.user.first_name} {this.props.user.last_name}</a>\n                    <scify.InfoBox imagesPath = {this.props.imagesPath} display={this.state.display} busy={this.state.busy} data={this.state.comments}/>\n                </div>\n            );\n        }\n    });\n\n    scify.InfoBox = React.createClass({\n        getInitialState: function() {\n            return {\n                consultationid: this.props.consultationid,\n                userId: this.props.userId,\n                user: this.props.user,\n                display: this.props.display\n            };\n        },\n        render: function() {\n            var instance = this;\n            if(this.props.display) {\n                if (this.props.busy) {\n                    return (\n                        <div>\n                            <scify.ReactLoader display={this.props.busy}/>\n                        </div>\n                    );\n                }\n                var commentNodes = this.props.data.map(function (commentWithArticleName) {\n                    commentWithArticleName.comment.userAnnotatedText = commentWithArticleName.article_name;\n                    //define the source as Democracit\n                    commentWithArticleName.comment.source.commentSource = 2;\n                    var comment = commentWithArticleName.comment;\n                    return (\n                            <scify.Comment\n                                           imagesPath = {instance.props.imagesPath}\n                                           key={commentWithArticleName.comment.id}\n                                           data={comment}\n                                           shouldDisplayCommenterName={true}\n                                           shouldDisplayEditIcon={false}\n                                           shouldDisplayCommentEdited={true}\n                                           shouldDisplayShareBtn={false}\n                                           shouldDisplayCommentBody={true}\n                                           shouldDisplayEmotion={true}\n                                           shouldDisplayAnnotatedText={true}\n                                           shouldDisplayReplyBox={false}\n                                           shouldDisplayReplies={false}\n                                           optionsEnabled={false}\n                                           shouldDisplayTopics={true}\n                                           shouldDisplayLikeDislike={true}\n                                           commentClassNames=\"comment\"\n                                           shouldDisplayFinalLawAnnBtn={false}/>\n\n                    );\n                });\n                return (\n                    <div className=\"commentList\">\n                        {commentNodes}\n                    </div>\n                );\n\n            } else {\n                return (\n                    <div></div>\n                );\n            }\n        }\n    });\n\n})()\n\n\n"]}